# v0.1 MVP 版本规划

## 版本信息

- **版本号**: v0.1
- **版本类型**: MVP (Minimum Viable Product)
- **版本代号**: Genesis
- **规划日期**: 2026-02-13

## 版本目标

### 核心目标

打造企业级视频会议系统的最小可用版本,验证核心技术可行性,实现基础音视频通话能力。

### 业务目标

1. **核心功能验证**: 完成多人实时音视频通话的技术验证
2. **技术基础搭建**: 建立完整的前后端架构、跨平台 SDK 和部署体系
3. **质量标准确立**: 建立 TDD 开发流程和质量保障体系
4. **团队协作验证**: 验证 Agent Team 协作模式的有效性

### 技术目标

1. **音视频能力**: 支持 2-4 人稳定音视频通话
2. **平台覆盖**: Web 端 + 至少 2 个原生平台(iOS/Android)
3. **性能指标**:
   - 音视频延迟 < 300ms
   - 弱网环境下可用性 > 90%
   - 客户端启动时间 < 3s
4. **代码质量**: 单元测试覆盖率 > 80%

## 版本范围

### 包含功能 (In Scope)

#### P0 - 必须完成

- 用户注册登录 (邮箱/密码)
- 创建/加入会议 (会议号方式)
- 2-4 人实时音视频通话
- 基础音视频控制 (静音/关闭摄像头)
- 会议列表查看

#### P1 - 优先完成

- 屏幕共享 (Web 端)
- 聊天消息 (文本)
- 会议录制 (服务端)

#### P2 - 资源允许时完成

- 虚拟背景 (模糊)
- 会议邀请链接
- 基础统计信息

### 不包含功能 (Out of Scope)

- 高级音视频功能 (美颜、特效、降噪)
- 大型会议 (>4 人)
- 会议管理高级功能 (分组、举手、投票等)
- 第三方集成
- 企业 SSO
- 录制回放与云存储
- 移动端屏幕共享

## 里程碑与时间线

### Phase 1: 项目初始化 (Week 1)

**目标**: 完成架构设计、技术选型、开发环境搭建

| 任务 | 负责 Team | 交付物 |
|------|-----------|--------|
| MVP 需求定义 | 产品 & UI/UX | 需求列表、优先级定义 |
| 架构设计 | 架构 | 服务端/Web端/客户端架构设计 |
| 构建系统选型 | 架构 + 运维 | 构建工具选型、CI/CD 方案 |
| 接口契约模板 | 架构 | API 文档标准、版本管理规范 |

**验收标准**:
- 所有架构文档评审通过
- 开发环境可用
- CI/CD 流水线可运行

### Phase 2: 基础设施 (Week 2-3)

**目标**: 完成用户系统、会议管理基础设施

| 功能模块 | 负责 Team | 依赖 |
|---------|-----------|------|
| 用户注册登录 | 后端 + 前端 + 客户端 | 无 |
| 会议创建/加入 | 后端 + 前端 + 客户端 | 用户登录 |
| WebRTC SDK 基础封装 | 客户端 | 无 |
| UI 组件库 | 前端 | 无 |

**验收标准**:
- 用户可以注册登录
- 用户可以创建/加入会议(无音视频)
- WebRTC 连接可建立
- 单元测试覆盖率 > 80%

### Phase 3: 音视频核心功能 (Week 4-6)

**目标**: 完成 2-4 人音视频通话

| 功能模块 | 负责 Team | 依赖 |
|---------|-----------|------|
| 信令服务 | 后端 | 会议管理 |
| 媒体服务 (SFU) | 后端 | 信令服务 |
| WebRTC 音视频采集 | 客户端 | SDK 基础 |
| WebRTC 音视频渲染 | 客户端 | SDK 基础 |
| 音视频控制 UI | 前端 + 客户端 | 音视频功能 |

**验收标准**:
- 2-4 人可正常音视频通话
- 音视频延迟 < 300ms (LAN)
- 可静音/关闭摄像头
- 跨平台互通验证通过
- 单元测试覆盖率 > 80%

### Phase 4: 辅助功能 (Week 7-8)

**目标**: 完成 P1 功能(屏幕共享、聊天、录制)

| 功能模块 | 负责 Team | 依赖 |
|---------|-----------|------|
| 屏幕共享 (Web) | 前端 + 后端 | 音视频通话 |
| 文字聊天 | 前端 + 客户端 + 后端 | 会议功能 |
| 服务端录制 | 后端 + 运维 | 媒体服务 |

**验收标准**:
- Web 端可屏幕共享
- 聊天消息实时送达
- 录制文件可回放
- 单元测试覆盖率 > 80%

### Phase 5: 集成测试与优化 (Week 9-10)

**目标**: 完成端到端测试、性能优化、生产环境部署

| 任务 | 负责 Team | 交付物 |
|------|-----------|--------|
| 端到端测试 | 测试 | 测试用例、测试报告 |
| 性能测试与优化 | 测试 + 各开发 Team | 性能报告、优化方案 |
| 弱网测试与优化 | 测试 + 客户端 | 弱网测试报告 |
| 生产环境部署 | 运维 | 部署文档、监控面板 |
| 安全评估 | 架构 + 测试 | 安全评估报告 |

**验收标准**:
- P0 功能通过率 100%
- P1 功能通过率 > 95%
- 无 P0/P1 缺陷
- 性能指标达标
- 生产环境稳定运行

### Phase 6: 发布准备 (Week 11-12)

**目标**: 完成文档、上线准备

| 任务 | 负责 Team | 交付物 |
|------|-----------|--------|
| 用户文档 | 产品 | 用户手册、FAQ |
| API 文档 | 架构 + 后端 | API 文档、SDK 文档 |
| 运维手册 | 运维 | 部署手册、故障处理手册 |
| 发布说明 | 产品 | Release Notes |

**验收标准**:
- 所有文档完整
- 发布流程验证通过
- 回滚方案可用

## 资源需求

### 人力资源

| Team | Leader | 成员数 | 备注 |
|------|--------|---------|------|
| 产品 & UI/UX | 产品经理 | 2-3 | 产品经理 + UI/UX 设计师 |
| 架构 | 架构师 | 1 | 兼顾多个领域 |
| 前端 | 前端 Leader | 2-3 | Web 开发 |
| 后端 | 后端 Leader | 3-4 | 信令/媒体/业务服务 |
| 客户端 | 客户端 Leader | 4-5 | SDK + iOS + Android |
| 测试 | 测试 Leader | 2-3 | 自动化测试 + 手工测试 |
| 运维 | 运维 Leader | 1-2 | DevOps + 监控 |

**总计**: 约 15-20 人

### 基础设施

- **开发环境**: 各 Team 独立开发环境
- **测试环境**: 集成测试环境、性能测试环境
- **生产环境**:
  - 服务器: 4C8G × 3 (信令/媒体/业务)
  - 数据库: MySQL 主从
  - 缓存: Redis 主从
  - 对象存储: 100GB (录制文件)
  - CDN: 100GB 流量/月
- **CI/CD**: GitHub Actions / GitLab CI
- **监控**: Prometheus + Grafana

## 质量目标

### 代码质量

- **单元测试覆盖率**: P0 > 90%, P1 > 80%, P2 > 70%
- **代码审查**: 所有代码必须经过 Code Review
- **静态检查**: ESLint / Clippy / golangci-lint 无 Error

### 测试质量

- **P0 功能**: 通过率 100%, 0 遗留缺陷
- **P1 功能**: 通过率 > 95%, 遗留缺陷 < 5 个
- **P2 功能**: 通过率 > 90%, 遗留缺陷 < 10 个

### 性能质量

- **音视频延迟**: < 300ms (LAN), < 500ms (WAN)
- **弱网可用性**: 丢包率 20% 下可用性 > 90%
- **客户端启动**: < 3s
- **服务端响应**: P95 < 200ms

### 安全质量

- **认证**: JWT + Refresh Token
- **传输加密**: HTTPS + DTLS-SRTP
- **API 防护**: 限流、防重放
- **漏洞**: 无高危/严重漏洞

## 风险与应对

### 技术风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| WebRTC 跨平台兼容性问题 | 高 | 中 | 提前调研主流浏览器和系统版本,预留兼容方案 |
| 媒体服务性能瓶颈 | 高 | 中 | Phase 5 压力测试,必要时引入第三方 SFU |
| 弱网环境音视频质量 | 中 | 高 | 实现自适应码率、FEC、NACK |
| 录制存储成本超预期 | 中 | 中 | 限制录制时长,采用存储生命周期管理 |

### 进度风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| 音视频核心功能延期 | 高 | 中 | P1/P2 功能作为缓冲,可延后到后续版本 |
| 跨 Team 集成问题 | 中 | 中 | 强化接口契约评审,提前 Mock 数据联调 |
| 人员变动 | 中 | 低 | 知识分享,文档完善,交叉培训 |

### 质量风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| 测试覆盖不足 | 高 | 中 | TDD 强制执行,CI 中检查覆盖率 |
| 跨平台一致性问题 | 中 | 高 | 端到端测试覆盖所有平台组合 |
| 安全漏洞 | 高 | 低 | 安全评估,引入第三方安全扫描工具 |

## 发布计划

### 内部测试版 (Alpha)

- **时间**: Week 10
- **范围**: 团队内部使用
- **目标**: 发现重大缺陷,验证核心功能

### 公开测试版 (Beta)

- **时间**: Week 11
- **范围**: 邀请 50-100 用户
- **目标**: 真实场景验证,收集用户反馈

### 正式版 (GA)

- **时间**: Week 12
- **范围**: 公开发布
- **目标**: 稳定运行,支持生产使用

## 成功标准

### 功能完整性

- [ ] P0 功能全部完成并通过测试
- [ ] P1 功能至少完成 80%
- [ ] 跨平台互通验证通过

### 质量达标

- [ ] 单元测试覆盖率达标
- [ ] 无 P0/P1 遗留缺陷
- [ ] 性能指标达标

### 技术可演进

- [ ] 架构支持扩展到 10+ 人会议
- [ ] 模块化设计便于后续功能迭代
- [ ] 技术债务清单明确

### 团队协作

- [ ] Agent Team 协作流程顺畅
- [ ] 文档体系完善
- [ ] 知识沉淀充分

## 后续版本展望

### v0.2 规划方向

- 支持 10-20 人会议
- 高级音视频功能 (美颜、降噪)
- 会议管理增强 (举手、投票、分组)
- 移动端屏幕共享
- 录制回放与云存储

### 长期愿景

- 对标腾讯会议、Zoom 核心能力
- 支持百人大型会议
- 企业级功能 (SSO、权限管理、审计)
- 第三方集成生态
- 国际化支持

## 附录

### 参考资料

- [WebRTC 官方文档](https://webrtc.org/)
- [Jitsi Meet 架构](https://jitsi.github.io/handbook/)
- [mediasoup 设计文档](https://mediasoup.org/documentation/)

### 相关文档

- [v0.1 需求列表](./requirements.md)
- [服务端架构设计](../../architecture/server_design.md)
- [Web 端架构设计](../../architecture/web_design.md)
- [客户端架构设计](../../architecture/client_design.md)
